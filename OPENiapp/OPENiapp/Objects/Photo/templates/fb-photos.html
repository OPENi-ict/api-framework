{% extends "base.html" %}

{% block head_title %}My Facebook Photos{% endblock %}

{% block body_title %}My Facebook Photos{% endblock %}

{% block content %}
<hr/>
<table class="table">
    <thead>
        <tr>
            <th>Picture</th>
            <th>From</th>
            <th>Source</th>
            <th>Height</th>
            <th>Width</th>
            <th>Link</th>
            <th>Likes</th>
        </tr>
    </thead>
    <tbody>
        {% for data in result.data %}
        <tr>
            <td><img src="{{ data.picture }}"></img></td>
            <td>name: {{ data.from.name }} | id: {{ data.from.id }}</td>
            <td><img src="{{ data.source }}"></img></td>
            <td>{{ data.height }}</td>
            <td>{{ data.width }}</td>
            <td><a href="{{ data.link }}" target="_blank">Photo Link</a></td>
            <td>{% for likes in data.likes.data %}id: {{likes.id}} | name: {{likes.name}}<br/>{% endfor %}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<pre class="well" id="json"></pre>
<br />
<br />
<p class="text-center">
    <a href="{% url 'facebook_get_photos_since' previous %}" class="btn btn-primary"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;Previous</a>
    <a href="{% url 'facebook_get_photos_until' next %}" class="btn btn-primary">Next&nbsp;<span class="glyphicon glyphicon-chevron-right"></span></a>
</p>

<script>
    var photoJson = {
        "objectType": "photo",
        "service":"openi",
        "id":"{{ result.data.0.id }}",
        "url": "{{ result.data.0.source }}",
        "profile":{
            "title": "{{ result.data.0.name }}",
            "description": "Doesn't Exist",
            "format": "Doesn't Exist",
            "size": "Doesn't Exist - Various Sizes"
        },
        "properties":{
            "width": {{ result.data.0.width }},
            "height": {{ result.data.0.height }},
            "tags" : "{{ result.data.0.place }}"
        }
    };

    document.getElementById("json").innerHTML = JSON.stringify(photoJson, undefined, 4);        
</script>
{% endblock %}